(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{103:function(e,t,a){var n=a(419);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(53)(n,r);n.locals&&(e.exports=n.locals)},419:function(e,t,a){(e.exports=a(52)(!1)).push([e.i,".dashboard-final-score{background:rgba(246,208,161,.30196078431372547);padding:10px 20px;border-radius:4px!important;color:#e98a15!important}.dashboard-filter .bootstrap-select{width:200px!important}",""])},423:function(e,t,a){"use strict";a.r(t),a.d(t,"options",(function(){return h}));var n=a(0),r=a.n(n),l=a(14),o=a.n(l),i=(a(103),a(16)),c=a(43),s=a(42),u=a(62);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){p(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t,a){var n;return n=function(e,t){if("object"!=d(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(n)?n:n+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;c=!1}else for(;!(c=(n=l.call(a)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}i.Chart.register(i.CategoryScale,i.LinearScale,i.BarElement,i.Title,i.Tooltip,i.Legend,c.a);var h={responsive:!0,plugins:{legend:{display:!1},datalabels:{display:!0,align:"center",anchor:"center",color:"white"},title:{display:!1},scales:{y:{ticks:{stepSize:500}}}},onHover:function(e,t){e.native.target.style.cursor=t[0]?"pointer":"default"}};function v(){var e=f(Object(n.useState)([]),2),t=e[0],a=e[1],l=f(Object(n.useState)([]),2),o=l[0],i=l[1],c=f(Object(n.useState)([]),2),d=c[0],m=c[1],g=f(Object(n.useState)({}),2),v=g[0],y=g[1],E=f(Object(n.useState)({}),2),k=E[0],j=E[1],w=f(Object(n.useState)([]),2),O=w[0],S=w[1],x=f(Object(n.useState)({tingkat:[],kelas:[],mapel:[],bab:[],subbab:[]}),2),_=x[0],C=x[1],N=f(Object(n.useState)(0),2),P=N[0],I=N[1],L=f(Object(n.useState)(0),2),M=L[0],A=L[1],D=f(Object(n.useState)(0),2),T=D[0],B=D[1],F=f(Object(n.useState)(""),2),J=F[0],K=F[1],R=f(Object(n.useState)(""),2),z=R[0],H=R[1],U=f(Object(n.useState)(!0),2),q=U[0],G=U[1];Object(n.useEffect)((function(){o.length<1&&(window.axios.post("/backoffice/json/dashboard/current").then((function(e){var t=e.data.data,a=t.level,n=t.param,r=t.param2nd,l=t.param3rd,o={};null==a&&(a="tingkat"),null!=n&&(o[n]=t.value),null!=r&&(o[r]=t.value2nd),null!=l&&(o[l]=t.value3rd),window.axios.post("/backoffice/json/dashboard/".concat(a),o).then((function(e){var t=e.data.data,a=t.data,n=t.data_id,r=t.next_api,l=t.graphic_title,o=t.level;h.onClick=V,t.kelas_id&&I(t.kelas_id),t.bab_id&&B(t.bab_id),t.mapel_id&&A(t.mapel_id),G(!1),K(l),H(o),y(r),i(a),m(n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),window.axios.post("/backoffice/json/dashboard/filter/level").then((function(e){var t=e.data.data;S(t)})).catch((function(e){console.log(e)})))}),[]);var Q={borderLeft:"1px solid #F6D0A1",marginLeft:"5px",marginRight:"5px"};function V(e,t){if(0!==t.length){var a=t[0].element.$context,n=a.dataIndex,r=(a.raw,e.chart.data,e.chart.data.labels[n]),l=n;G(!0),j({label:r,idx:l,isClick:!0})}}Object(n.useEffect)((function(){_.tingkat.length<1&&window.axios.post("/backoffice/json/dashboard/filter/tingkat").then((function(e){var t=e.data.data;C(b(b({},_),{},{tingkat:t})),$("#tingkat").selectpicker("refresh")})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=k.isClick?d[k.idx]:k.idx;if("siswa"!=z){G(!0);var t=p({},v.param,e);0!=P&&(t.kelas_id=P),0!=T&&(t.bab_id=T),window.axios.post("/backoffice/json/dashboard/".concat(v.name),t).then((function(e){var t=e.data.data;h.onClick=V;var a=t.data,n=t.data_id,r=t.graphic_title,l=t.next_api,o=t.level;t.kelas_id&&I(t.kelas_id),t.bab_id&&B(t.bab_id),t.mapel_id&&A(t.mapel_id),G(!1),K(r),H(o),y(l),m(n),i(a)})).catch((function(e){console.log(e)}))}else window.location.href="/backoffice/e-raport/".concat(e,"/").concat(M)}),[k]),Object(n.useEffect)((function(){for(var e,t=[],n=function(){var a=[],n=[];o[r].forEach((function(e){var t=e;a.push(t.label),n.push(t.score)})),e={labels:a,datasets:[{label:"Score",data:n,backgroundColor:"rgba(2, 65, 2, 1)",borderRadius:10,minBarLength:1}]},t.push(e)},r=0;r<o.length;r++)n();console.log("listConfig",t),a(t)}),[o]);var W=function(e){var t=O.filter((function(t){return t.option==e.target.id}));if(0!=t.length){var a=t[0];y(a.next_api);var n=p({},a.next_api.param,e.target.value);0!=P&&(n.kelas_id=P),window.axios.post("/backoffice/json/dashboard/filter/".concat(a.next_api.name),n).then((function(e){var t=e.data.data;C(b(b({},_),{},p({},a.next_api.name,t))),$("#".concat(a.next_api.name)).selectpicker("refresh")})).catch((function(e){console.log(e)})),G(!0),j({label:e.target.id,idx:e.target.value,isClick:!1})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{marginLeft:"auto"},class:"dashboard-filter"},r.a.createElement("label",{className:"my-auto mr-2",style:{color:"#9E9E9E"}},"Filter By"),r.a.createElement("select",{id:"tingkat",name:"tingkat","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Tingkat",onChange:W},r.a.createElement("option",{value:""},"Semua Tingkat"),_.tingkat.length>0&&_.tingkat.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"kelas",name:"kelas","data-style":"btn-green-pastel",multiple:!0,class:"selectpicker mr-2",placeholder:"Kelas",onChange:W},r.a.createElement("option",{value:""},"Semua Kelas"),_.kelas.length>0&&_.kelas.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"mapel",name:"mapel","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Mata Pelajaran",onChange:W},r.a.createElement("option",{value:""},"Semua Mata Pelajaran"),_.mapel.length>0&&_.mapel.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"bab",name:"bab","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Module",onChange:W},r.a.createElement("option",{value:""},"Semua Module"),_.bab.length>0&&_.bab.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"subbab",name:"subbab","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Sub-Module",onChange:W},r.a.createElement("option",{value:""},"Semua Sub-Module"),_.subbab.length>0&&_.subbab.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))))))),q?r.a.createElement("div",{className:"row",style:{height:"70vh",width:"100%"}},r.a.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{flexDirection:"column"}},r.a.createElement(u.a,{visible:!0,height:"100",width:"100",color:"#024102",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""}),r.a.createElement("h2",{class:"mt-2"},"Mohon tunggu..."))):t&&t.map((function(e,t){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:"mb-3"},r.a.createElement("h2",{className:"text-primary"},r.a.createElement("b",null,J)),r.a.createElement("div",{className:"dashboard-final-score",style:{marginLeft:"auto"}},e.datasets[0].data.length<15&&e.datasets[0].data.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.labels[a]," : ",r.a.createElement("b",null,t)),r.a.createElement("span",{style:Q}))})))),r.a.createElement(s.a,{options:h,data:e})))))})))}t.default=v,document.getElementById("dashboard-kepala-sekolah")&&o.a.render(r.a.createElement(v,null),document.getElementById("dashboard-kepala-sekolah"))}}]);