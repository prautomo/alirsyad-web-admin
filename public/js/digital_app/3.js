(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{103:function(e,t,a){var n=a(419);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(53)(n,r);n.locals&&(e.exports=n.locals)},419:function(e,t,a){(e.exports=a(52)(!1)).push([e.i,".dashboard-final-score{background:rgba(246,208,161,.30196078431372547);padding:10px 20px;border-radius:4px!important;color:#e98a15!important}.dashboard-filter .bootstrap-select{width:200px!important}",""])},425:function(e,t,a){"use strict";a.r(t),a.d(t,"options",(function(){return h})),a.d(t,"data",(function(){return v})),a.d(t,"chartLevel",(function(){return y}));var n=a(0),r=a.n(n),l=a(14),o=a.n(l),c=(a(103),a(16)),i=a(43),s=a(42),u=a(62);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){var n;return n=function(e,t){if("object"!=d(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==d(n)?n:n+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,r,l,o,c=[],i=!0,s=!1;try{if(l=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;i=!1}else for(;!(i=(n=l.call(a)).done)&&(c.push(n.value),c.length!==t);i=!0);}catch(e){s=!0,r=e}finally{try{if(!i&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(s)throw r}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}c.Chart.register(c.CategoryScale,c.LinearScale,c.BarElement,c.Title,c.Tooltip,c.Legend,i.a);var h={responsive:!0,plugins:{legend:{display:!1},datalabels:{display:!0,align:"center",anchor:"center",color:"white"},title:{display:!1},scales:{y:{ticks:{stepSize:500}}}},onHover:function(e,t){e.native.target.style.cursor=t[0]?"pointer":"default"}},v={undefined:void 0,datasets:[{label:"Score",data:[],backgroundColor:"rgba(2, 65, 2, 1)"}]},y=[{level:"jenjang",data:[[{label:"TK",score:1376},{label:"SD",score:580},{label:"SMP",score:1500},{label:"SMA",score:1125}]]},{level:"tingkat",data:[[{label:"SD 1",score:1376},{label:"SD 2",score:580},{label:"SD 3",score:1500},{label:"SD 4",score:1126},{label:"SD 5",score:1518},{label:"SD 6",score:480}]]}];function j(){var e=p(Object(n.useState)([]),2),t=e[0],a=e[1],l=p(Object(n.useState)([]),2),o=l[0],c=l[1],i=p(Object(n.useState)([]),2),d=i[0],b=i[1],g=p(Object(n.useState)({}),2),v=g[0],y=g[1],j=p(Object(n.useState)({}),2),E=j[0],S=j[1],w=p(Object(n.useState)([]),2),O=w[0],k=w[1],x=p(Object(n.useState)({mengajar:[],bab:[],subbab:[]}),2),_=x[0],C=x[1],D=p(Object(n.useState)(0),2),N=D[0],P=D[1],M=p(Object(n.useState)(0),2),I=M[0],L=M[1],A=p(Object(n.useState)(0),2),B=A[0],T=A[1],F=p(Object(n.useState)(""),2),J=F[0],R=F[1],z=p(Object(n.useState)(""),2),H=z[0],K=z[1],U=p(Object(n.useState)(!0),2),q=U[0],G=U[1];Object(n.useEffect)((function(){o.length<1&&(window.axios.post("/backoffice/json/dashboard/current").then((function(e){var t=e.data.data,a=t.level,n=t.param,r=t.param2nd,l=t.param3rd,o={};null==a&&(a="bab"),null!=n&&(o[n]=t.value),null!=r&&(o[r]=t.value2nd),null!=l&&(o[l]=t.value3rd),window.axios.post("/backoffice/json/dashboard/".concat(a),o).then((function(e){var t=e.data.data,a=t.data,n=t.data_id,r=t.next_api,l=t.graphic_title,o=t.level;h.onClick=V,t.kelas_id&&P(t.kelas_id),t.bab_id&&T(t.bab_id),t.mapel_id&&L(t.mapel_id),G(!1),R(l),K(o),y(r),c(a),b(n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),window.axios.post("/backoffice/json/dashboard/filter/level").then((function(e){var t=e.data.data;k(t)})).catch((function(e){console.log(e)})))}),[]);var Q={borderLeft:"1px solid #F6D0A1",marginLeft:"5px",marginRight:"5px"};function V(e,t){if(0!==t.length){var a=t[0].element.$context,n=a.dataIndex,r=(a.raw,e.chart.data,e.chart.data.labels[n]),l=n;G(!0),S({label:r,idx:l,isClick:!0})}}Object(n.useEffect)((function(){_.mengajar.length<1&&window.axios.post("/backoffice/json/dashboard/filter/mengajar").then((function(e){var t=e.data;C(m(m({},_),{},{mengajar:t.data})),t.kelas_id&&P(t.kelas_id),t.mapel_id&&L(t.mapel_id),$("#mengajar").selectpicker("refresh"),$("#mengajar").val("".concat(t.mapel_id+"/"+t.kelas_id)),$("#mengajar").selectpicker("refresh")})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=E.isClick?d[E.idx]:E.idx;if("siswa"!=H){G(!0);var t=f({},v.param,e);0!=N&&(t.kelas_id=N),0!=B&&(t.bab_id=B),window.axios.post("/backoffice/json/dashboard/".concat(v.name),t).then((function(e){var t=e.data.data;h.onClick=V;var a=t.data,n=t.data_id,r=t.graphic_title,l=t.next_api,o=t.level;t.kelas_id&&P(t.kelas_id),t.bab_id&&T(t.bab_id),t.mapel_id&&L(t.mapel_id),G(!1),R(r),K(o),y(l),b(n),c(a)})).catch((function(e){console.log(e)}))}else window.location.href="/backoffice/e-raport/".concat(e,"/").concat(I)}),[E]),Object(n.useEffect)((function(){for(var e,t=[],n=function(){var a=[],n=[];o[r].forEach((function(e){var t=e;a.push(t.label),n.push(t.score)})),e={labels:a,datasets:[{label:"Score",data:n,backgroundColor:"rgba(2, 65, 2, 1)",borderRadius:10,minBarLength:1}]},t.push(e)},r=0;r<o.length;r++)n();console.log("listConfig",t),a(t)}),[o]);var W=function(e){var t=O.filter((function(t){return t.option==e.target.id}));if(0!=t.length){var a=t[0];y(a.next_api);var n=f({},a.next_api.param,e.target.value);0!=N&&(n.kelas_id=N),window.axios.post("/backoffice/json/dashboard/filter/".concat(a.next_api.name),n).then((function(e){var t=e.data.data;C(m(m({},_),{},f({},a.next_api.name,t))),$("#".concat(a.next_api.name)).selectpicker("refresh")})).catch((function(e){console.log(e)})),G(!0),S({label:e.target.id,idx:e.target.value,isClick:!1})}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{marginLeft:"auto"},class:"dashboard-filter"},r.a.createElement("label",{className:"my-auto mr-2",style:{color:"#9E9E9E"}},"Filter By"),r.a.createElement("select",{id:"mengajar",name:"mengajar","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Mata Pelajaran",onChange:W},r.a.createElement("option",{value:""},"Mengajar"),_.mengajar.length>0&&_.mengajar.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"bab",name:"bab","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Module",onChange:W},r.a.createElement("option",{value:""},"Semua Module"),_.bab.length>0&&_.bab.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"subbab",name:"subbab","data-style":"btn-green-pastel",class:"selectpicker mr-2",placeholder:"Sub-Module",onChange:W},r.a.createElement("option",{value:""},"Semua Sub-Module"),_.subbab.length>0&&_.subbab.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))))))),q?r.a.createElement("div",{className:"row",style:{height:"70vh",width:"100%"}},r.a.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{flexDirection:"column"}},r.a.createElement(u.a,{visible:!0,height:"100",width:"100",color:"#024102",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""}),r.a.createElement("h2",{class:"mt-2"},"Mohon tunggu..."))):t&&t.map((function(e,t){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:"mb-3"},r.a.createElement("h2",{className:"text-primary"},r.a.createElement("b",null,J)),r.a.createElement("div",{className:"dashboard-final-score",style:{marginLeft:"auto"}},e.datasets[0].data.length<15&&e.datasets[0].data.map((function(t,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.labels[a]," : ",r.a.createElement("b",null,t)),r.a.createElement("span",{style:Q}))})))),r.a.createElement(s.a,{options:h,data:e})))))})))}t.default=j,document.getElementById("dashboard-guru-mapel")&&o.a.render(r.a.createElement(j,null),document.getElementById("dashboard-guru-mapel"))}}]);