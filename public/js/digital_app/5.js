(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{103:function(e,t,a){var n=a(419);"string"==typeof n&&(n=[[e.i,n,""]]);var l={hmr:!0,transform:void 0,insertInto:void 0};a(53)(n,l);n.locals&&(e.exports=n.locals)},419:function(e,t,a){(e.exports=a(52)(!1)).push([e.i,".dashboard-final-score{background:rgba(246,208,161,.30196078431372547);padding:10px 20px;border-radius:4px!important;color:#e98a15!important}.dashboard-filter .bootstrap-select{width:200px!important}",""])},422:function(e,t,a){"use strict";a.r(t),a.d(t,"options",(function(){return v}));var n=a(0),l=a.n(n),r=a(14),o=a.n(r),i=(a(103),a(16)),s=a(43),c=a(42),d=a(62);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){m(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function m(e,t,a){var n;return n=function(e,t){if("object"!=u(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==u(n)?n:n+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,l,r,o,i=[],s=!0,c=!1;try{if(r=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;s=!1}else for(;!(s=(n=r.call(a)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,l=e}finally{try{if(!s&&null!=a.return&&(o=a.return(),Object(o)!==o))return}finally{if(c)throw l}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}i.Chart.register(i.CategoryScale,i.LinearScale,i.BarElement,i.Title,i.Tooltip,i.Legend,s.a);var v={responsive:!0,plugins:{legend:{display:!1},datalabels:{display:!0,align:"center",anchor:"center",color:"white"},title:{display:!1},scales:{y:{ticks:{stepSize:500}}}},onHover:function(e,t){e.native.target.style.cursor=t[0]?"pointer":"default"}};function h(){var e=g(Object(n.useState)([]),2),t=e[0],a=e[1],r=g(Object(n.useState)([]),2),o=r[0],i=r[1],s=g(Object(n.useState)([]),2),u=s[0],p=s[1],f=g(Object(n.useState)({}),2),h=f[0],y=f[1],x=g(Object(n.useState)({}),2),j=x[0],w=x[1],E=g(Object(n.useState)([]),2),k=E[0],_=E[1],S=g(Object(n.useState)({jenjang:[],tingkat:[],kelas:[],mapel:[],bab:[],subbab:[]}),2),O=S[0],C=S[1],N=g(Object(n.useState)(0),2),L=N[0],P=N[1],T=g(Object(n.useState)(0),2),I=T[0],M=T[1],B=g(Object(n.useState)(0),2),A=B[0],D=B[1],R=g(Object(n.useState)(""),2),F=R[0],J=R[1],q=g(Object(n.useState)(""),2),z=q[0],H=q[1],K=g(Object(n.useState)(!0),2),X=K[0],U=K[1];Object(n.useEffect)((function(){(null==o?void 0:o.length)<1&&(window.axios.post("/backoffice/json/dashboard/current").then((function(e){var t=e.data.data,a=t.level,n=t.param,l=t.param2nd,r=t.param3rd,o={};null==a&&(a="jenjang"),null!=n&&(o[n]=t.value),null!=l&&(o[l]=t.value2nd),null!=r&&(o[r]=t.value3rd),window.axios.post("/backoffice/json/dashboard/".concat(a),o).then((function(e){var t=e.data.data,a=t.data,n=t.data_id,l=t.next_api,r=t.graphic_title,o=t.level;v.onClick=G,t.kelas_id&&P(t.kelas_id),t.bab_id&&D(t.bab_id),t.mapel_id&&M(t.mapel_id),U(!1),J(r),H(o),y(l),i(a),p(n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),window.axios.post("/backoffice/json/dashboard/filter/level").then((function(e){var t=e.data.data;_(t)})).catch((function(e){console.log(e)})))}),[]);var Y={borderLeft:"1px solid #F6D0A1",marginLeft:"5px",marginRight:"5px"};function G(e,t){if(0!==t.length){var a=t[0].element.$context,n=a.dataIndex,l=(a.raw,e.chart.data,e.chart.data.labels[n]);w({label:l,idx:n,isClick:!0})}}Object(n.useEffect)((function(){O.jenjang.length<1&&window.axios.get("/backoffice/json/jenjangs").then((function(e){var t=e.data.data;C(b(b({},O),{},{jenjang:t})),$("#jenjang").selectpicker("refresh")})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=j.isClick?u[j.idx]:j.idx;if("siswa"==z&&j.isClick)window.location.href="/backoffice/e-raport/".concat(e,"/").concat(I);else{U(!0);var t=m({},h.param,e);0!=L&&(t.kelas_id=L),0!=A&&(t.bab_id=A),window.axios.post("/backoffice/json/dashboard/".concat(h.name),t).then((function(e){var t=e.data.data;v.onClick=G;var a=t.data,n=t.data_id,l=t.graphic_title,r=t.next_api,o=t.level;t.kelas_id&&P(t.kelas_id),t.bab_id&&D(t.bab_id),t.mapel_id&&M(t.mapel_id),U(!1),J(l),H(o),y(r),p(n),i(a)})).catch((function(e){console.log(e)}))}}),[j]);var Q=function(e){var t=e.chart,a=e.tooltip,n=function(e){var t=e.canvas.parentNode.querySelector("div");if(!t){(t=document.createElement("div")).style.background="rgba(0, 0, 0, 0.7)",t.style.borderRadius="3px",t.style.color="white",t.style.opacity=1,t.style.pointerEvents="none",t.style.position="absolute",t.style.transform="translate(-50%, 0)",t.style.transition="all .1s ease";var a=document.createElement("table");a.style.margin="0px",t.appendChild(a),e.canvas.parentNode.appendChild(t)}return t}(t);if(0!==a.opacity){if(a.body){var l=a.dataPoints,r='<tbody style="font-size:12px;" border="0">';l.forEach((function(e,t){var a=null==e?void 0:e.dataIndex,n=null==e?void 0:e.dataset,l=null==n?void 0:n.benars[a],o=null==n?void 0:n.terjawabs[a],i=null==n?void 0:n.data[a];r+='<tr style="background-color: inherit; border-width: 0; text-align: center; font-weight: bold;">\n                    <td colspan="3" style=\'padding: 0px 3px; margin: 0px;\'>'.concat(null==e?void 0:e.label,"</td>\n                </tr>"),r+="<tr style=\"background-color: inherit; border-width: 0;\">\n                    <td style='padding: 0px 3px; margin: 0px;'>Level</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>:</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>".concat(null==n?void 0:n.label,"</td>\n                </tr>"),r+="<tr style=\"background-color: inherit; border-width: 0;\">\n                    <td style='padding: 0px 3px; margin: 0px;'>Total Benar</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>:</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>".concat(l,"</td>\n                </tr>"),r+="<tr style=\"background-color: inherit; border-width: 0;\">\n                    <td style='padding: 0px 3px; margin: 0px;'>Total Terjawab</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>:</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>".concat(o,"</td>\n                </tr>"),r+="<tr style=\"background-color: inherit; border-width: 0;\">\n                    <td style='padding: 0px 3px; margin: 0px;'>Persentase</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>:</td>\n                    <td style='padding: 0px 3px; margin: 0px;'>".concat(i,"%</td>\n                </tr>")})),r+="</tbody>";for(var o=n.querySelector("table");o.firstChild;)o.firstChild.remove();o.innerHTML=r}var i=t.canvas,s=i.offsetLeft,c=i.offsetTop;n.style.opacity=1,n.style.left=s+a.caretX+"px",n.style.top=c+a.caretY+"px",n.style.font=a.options.bodyFont.string,n.style.padding=a.options.padding+"px "+a.options.padding+"px"}else n.style.opacity=0};Object(n.useEffect)((function(){var e=[];console.log("currentLevel",z),"siswa"===z||(v.plugins.datalabels.formatter=function(e){return e}),v.plugins.tooltip={enabled:!1,external:Q};for(var t,n=function(){var a=[],n=[],r=[],i=[],s=[],c=[],d=[],u=[],p=[],b=[],m=[];o[l].forEach((function(e){var t,l,o,g,f,v,h,y,x,j,w,E,k,_,S,O,C,N,L=e;(a.push(L.label),n.push(L.score),null!=L&&L.percentage_split)&&(p.push(null!==(t=null==L||null===(l=L.percentage_split)||void 0===l?void 0:l.mudah)&&void 0!==t?t:0),b.push(null!==(o=null==L||null===(g=L.percentage_split)||void 0===g?void 0:g.sedang)&&void 0!==o?o:0),m.push(null!==(f=null==L||null===(v=L.percentage_split)||void 0===v?void 0:v.sulit)&&void 0!==f?f:0));null!=L&&L.score_split&&(r.push(null!==(h=null==L||null===(y=L.score_split)||void 0===y?void 0:y.mudah)&&void 0!==h?h:0),i.push(null!==(x=null==L||null===(j=L.score_split)||void 0===j?void 0:j.sedang)&&void 0!==x?x:0),s.push(null!==(w=null==L||null===(E=L.score_split)||void 0===E?void 0:E.sulit)&&void 0!==w?w:0));null!=L&&L.terjawab_split&&(c.push(null!==(k=null==L||null===(_=L.terjawab_split)||void 0===_?void 0:_.mudah)&&void 0!==k?k:0),d.push(null!==(S=null==L||null===(O=L.terjawab_split)||void 0===O?void 0:O.sedang)&&void 0!==S?S:0),u.push(null!==(C=null==L||null===(N=L.terjawab_split)||void 0===N?void 0:N.sulit)&&void 0!==C?C:0))})),t={labels:a,datasets:[]},"siswa"===z?(t.datasets.push({label:"Mudah",data:p,backgroundColor:"rgba(2, 65, 2, 1)",borderRadius:10,minBarLength:1,benars:r,terjawabs:c}),t.datasets.push({label:"Sedang",data:b,backgroundColor:"rgba(255, 153, 51, 1)",borderRadius:10,minBarLength:1,benars:i,terjawabs:d}),t.datasets.push({label:"Sulit",data:m,backgroundColor:"rgba(255, 51, 51, 1)",borderRadius:10,minBarLength:1,benars:s,terjawabs:u})):t.datasets.push({label:"Score",data:n,backgroundColor:"rgba(2, 65, 2, 1)",borderRadius:10,minBarLength:1}),e.push(t)},l=0;l<o.length;l++)n();console.log("listConfig",e),a(e)}),[o]);var V=function(e){var t=k.filter((function(t){return t.option==e.target.id}));if(0!=t.length){var a=t[0];if(y(a.next_api),"jenjang"!==(null==a?void 0:a.option)||""!==e.target.value){var n=m({},a.next_api.param,e.target.value);0!=L&&(n.kelas_id=L),window.axios.post("/backoffice/json/dashboard/filter/".concat(a.next_api.name),n).then((function(e){var t=e.data.data;C(b(b({},O),{},m({},a.next_api.name,t))),$("#".concat(a.next_api.name)).selectpicker("refresh")})).catch((function(e){console.log(e)})),U(!0),w({label:e.target.id,idx:e.target.value,isClick:!1})}else window.axios.post("/backoffice/json/dashboard/jenjang",n).then((function(e){var t=e.data.data;v.onClick=G;var a=t.data,n=t.data_id,l=t.graphic_title,r=t.next_api,o=t.level;t.kelas_id&&P(t.kelas_id),t.bab_id&&D(t.bab_id),t.mapel_id&&M(t.mapel_id),U(!1),J(l),H(o),y(r),p(n),i(a)})).catch((function(e){console.log(e)}))}};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row mb-4"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("div",{style:{marginLeft:"auto"},className:"dashboard-filter"},l.a.createElement("label",{className:"my-auto mr-2",style:{color:"#9E9E9E"}},"Filter By"),l.a.createElement("select",{id:"jenjang",name:"jenjang","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Jenjang",onChange:V},l.a.createElement("option",{value:""},"Semua Jenjang"),O.jenjang.length>0&&O.jenjang.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))),l.a.createElement("select",{id:"tingkat",name:"tingkat","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Tingkat",onChange:V},l.a.createElement("option",{value:""},"Semua Tingkat"),O.tingkat.length>0&&O.tingkat.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))),l.a.createElement("select",{id:"kelas",name:"kelas","data-style":"btn-green-pastel",multiple:!0,className:"selectpicker mr-2",placeholder:"Kelas",onChange:V},l.a.createElement("option",{value:""},"Semua Kelas"),O.kelas.length>0&&O.kelas.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))),l.a.createElement("select",{id:"mapel",name:"mapel","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Mata Pelajaran",onChange:V},l.a.createElement("option",{value:""},"Semua Mata Pelajaran"),O.mapel.length>0&&O.mapel.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))),l.a.createElement("select",{id:"bab",name:"bab","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Module",onChange:V},l.a.createElement("option",{value:""},"Semua Module"),O.bab.length>0&&O.bab.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))),l.a.createElement("select",{id:"subbab",name:"subbab","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Sub-Module",onChange:V},l.a.createElement("option",{value:""},"Semua Sub-Module"),O.subbab.length>0&&O.subbab.map((function(e){return l.a.createElement("option",{value:e.id},e.name)}))))))),X?l.a.createElement("div",{className:"row",style:{height:"70vh",width:"100%"}},l.a.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{flexDirection:"column"}},l.a.createElement(d.a,{visible:!0,height:"100",width:"100",color:"#024102",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""}),l.a.createElement("h2",{className:"mt-2"},"Mohon tunggu..."))):t&&t.map((function(e,t){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:"mb-3"},l.a.createElement("h2",{className:"text-primary"},l.a.createElement("b",null,F)),l.a.createElement("div",{className:"dashboard-final-score",style:{marginLeft:"auto"}},e.datasets[0].data.length<15&&e.datasets[0].data.map((function(t,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,e.labels[a]," : ",l.a.createElement("b",null,t)),l.a.createElement("span",{style:Y}))})))),l.a.createElement("div",{style:{overflowX:scroll,width:"100%"}},l.a.createElement(c.a,{options:v,data:e}))))))})))}t.default=h,document.getElementById("dashboard-superadmin")&&o.a.render(l.a.createElement(h,null),document.getElementById("dashboard-superadmin"))}}]);