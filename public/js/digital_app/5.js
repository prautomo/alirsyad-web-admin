(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{103:function(e,a,t){var n=t(419);"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(53)(n,r);n.locals&&(e.exports=n.locals)},419:function(e,a,t){(e.exports=t(52)(!1)).push([e.i,".dashboard-final-score{background:rgba(246,208,161,.30196078431372547);padding:10px 20px;border-radius:4px!important;color:#e98a15!important}.dashboard-filter .bootstrap-select{width:200px!important}",""])},422:function(e,a,t){"use strict";t.r(a),t.d(a,"options",(function(){return h}));var n=t(0),r=t.n(n),l=t(14),o=t.n(l),i=(t(103),t(16)),c=t(43),s=t(42),u=t(62);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?m(Object(t),!0).forEach((function(a){b(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function b(e,a,t){var n;return n=function(e,a){if("object"!=d(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,a||"default");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"),(a="symbol"==d(n)?n:n+"")in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function f(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,l,o,i=[],c=!0,s=!1;try{if(l=(t=t.call(e)).next,0===a){if(Object(t)!==t)return;c=!1}else for(;!(c=(n=l.call(t)).done)&&(i.push(n.value),i.length!==a);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw r}}return i}}(e,a)||function(e,a){if(!e)return;if("string"==typeof e)return g(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,a)}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,a){(null==a||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}i.Chart.register(i.CategoryScale,i.LinearScale,i.BarElement,i.Title,i.Tooltip,i.Legend,c.a);var h={responsive:!0,plugins:{legend:{display:!1},datalabels:{display:!0,align:"center",anchor:"center",color:"white"},title:{display:!1},scales:{y:{ticks:{stepSize:500}}}},onHover:function(e,a){e.native.target.style.cursor=a[0]?"pointer":"default"}};function v(){var e=f(Object(n.useState)([]),2),a=e[0],t=e[1],l=f(Object(n.useState)([]),2),o=l[0],i=l[1],c=f(Object(n.useState)([]),2),d=c[0],m=c[1],g=f(Object(n.useState)({}),2),v=g[0],y=g[1],j=f(Object(n.useState)({}),2),E=j[0],k=j[1],w=f(Object(n.useState)([]),2),S=w[0],O=w[1],_=f(Object(n.useState)({jenjang:[],tingkat:[],kelas:[],mapel:[],bab:[],subbab:[]}),2),x=_[0],N=_[1],C=f(Object(n.useState)(0),2),P=C[0],L=C[1],I=f(Object(n.useState)(0),2),M=I[0],B=I[1],A=f(Object(n.useState)(0),2),D=A[0],T=A[1],R=f(Object(n.useState)(""),2),F=R[0],J=R[1],K=f(Object(n.useState)(""),2),V=K[0],z=K[1],H=f(Object(n.useState)(!0),2),U=H[0],X=H[1];Object(n.useEffect)((function(){(null==o?void 0:o.length)<1&&(window.axios.post("/backoffice/json/dashboard/current").then((function(e){var a=e.data.data,t=a.level,n=a.param,r=a.param2nd,l=a.param3rd,o={};null==t&&(t="jenjang"),null!=n&&(o[n]=a.value),null!=r&&(o[r]=a.value2nd),null!=l&&(o[l]=a.value3rd),window.axios.post("/backoffice/json/dashboard/".concat(t),o).then((function(e){var a=e.data.data,t=a.data,n=a.data_id,r=a.next_api,l=a.graphic_title,o=a.level;h.onClick=G,a.kelas_id&&L(a.kelas_id),a.bab_id&&T(a.bab_id),a.mapel_id&&B(a.mapel_id),X(!1),J(l),z(o),y(r),i(t),m(n)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})),window.axios.post("/backoffice/json/dashboard/filter/level").then((function(e){var a=e.data.data;O(a)})).catch((function(e){console.log(e)})))}),[]);var q={borderLeft:"1px solid #F6D0A1",marginLeft:"5px",marginRight:"5px"};function G(e,a){if(0!==a.length){var t=a[0].element.$context,n=t.dataIndex,r=(t.raw,e.chart.data,e.chart.data.labels[n]);k({label:r,idx:n,isClick:!0})}}Object(n.useEffect)((function(){x.jenjang.length<1&&window.axios.get("/backoffice/json/jenjangs").then((function(e){var a=e.data.data;N(p(p({},x),{},{jenjang:a})),$("#jenjang").selectpicker("refresh")})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=E.isClick?d[E.idx]:E.idx;if("siswa"==V&&E.isClick)window.location.href="/backoffice/e-raport/".concat(e,"/").concat(M);else{X(!0);var a=b({},v.param,e);0!=P&&(a.kelas_id=P),0!=D&&(a.bab_id=D),window.axios.post("/backoffice/json/dashboard/".concat(v.name),a).then((function(e){var a=e.data.data;h.onClick=G;var t=a.data,n=a.data_id,r=a.graphic_title,l=a.next_api,o=a.level;a.kelas_id&&L(a.kelas_id),a.bab_id&&T(a.bab_id),a.mapel_id&&B(a.mapel_id),X(!1),J(r),z(o),y(l),m(n),i(t)})).catch((function(e){console.log(e)}))}}),[E]),Object(n.useEffect)((function(){var e=[];console.log("currentLevel",V),h.plugins.tooltip={callbacks:{label:function(e){return"siswa"===V?Number(null==e?void 0:e.formattedValue)+"%":Number(null==e?void 0:e.formattedValue)}}};for(var a,n=function(){var t=[],n=[],l=[],i=[],c=[];o[r].forEach((function(e){var a,r,o,s,u,d,m=e;(t.push(m.label),n.push(m.score),null!=m&&m.percentage_split)&&(l.push(null!==(a=null==m||null===(r=m.percentage_split)||void 0===r?void 0:r.mudah)&&void 0!==a?a:0),i.push(null!==(o=null==m||null===(s=m.percentage_split)||void 0===s?void 0:s.sedang)&&void 0!==o?o:0),c.push(null!==(u=null==m||null===(d=m.percentage_split)||void 0===d?void 0:d.sulit)&&void 0!==u?u:0))})),a={labels:t,datasets:[]},"siswa"===V?(a.datasets.push({label:"Mudah",data:l,backgroundColor:"rgba(2, 65, 2, 1)",borderRadius:10,minBarLength:1}),a.datasets.push({label:"Sedang",data:i,backgroundColor:"rgba(255, 153, 51, 1)",borderRadius:10,minBarLength:1}),a.datasets.push({label:"Sulit",data:c,backgroundColor:"rgba(255, 51, 51, 1)",borderRadius:10,minBarLength:1})):a.datasets.push({label:"Score",data:n,backgroundColor:"rgba(2, 65, 2, 1)",borderRadius:10,minBarLength:1}),e.push(a)},r=0;r<o.length;r++)n();console.log("listConfig",e),t(e)}),[o]);var Q=function(e){var a=S.filter((function(a){return a.option==e.target.id}));if(0!=a.length){var t=a[0];if(y(t.next_api),"jenjang"!==(null==t?void 0:t.option)||""!==e.target.value){var n=b({},t.next_api.param,e.target.value);0!=P&&(n.kelas_id=P),window.axios.post("/backoffice/json/dashboard/filter/".concat(t.next_api.name),n).then((function(e){var a=e.data.data;N(p(p({},x),{},b({},t.next_api.name,a))),$("#".concat(t.next_api.name)).selectpicker("refresh")})).catch((function(e){console.log(e)})),X(!0),k({label:e.target.id,idx:e.target.value,isClick:!1})}else window.axios.post("/backoffice/json/dashboard/jenjang",n).then((function(e){var a=e.data.data;h.onClick=G;var t=a.data,n=a.data_id,r=a.graphic_title,l=a.next_api,o=a.level;a.kelas_id&&L(a.kelas_id),a.bab_id&&T(a.bab_id),a.mapel_id&&B(a.mapel_id),X(!1),J(r),z(o),y(l),m(n),i(t)})).catch((function(e){console.log(e)}))}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{marginLeft:"auto"},className:"dashboard-filter"},r.a.createElement("label",{className:"my-auto mr-2",style:{color:"#9E9E9E"}},"Filter By"),r.a.createElement("select",{id:"jenjang",name:"jenjang","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Jenjang",onChange:Q},r.a.createElement("option",{value:""},"Semua Jenjang"),x.jenjang.length>0&&x.jenjang.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"tingkat",name:"tingkat","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Tingkat",onChange:Q},r.a.createElement("option",{value:""},"Semua Tingkat"),x.tingkat.length>0&&x.tingkat.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"kelas",name:"kelas","data-style":"btn-green-pastel",multiple:!0,className:"selectpicker mr-2",placeholder:"Kelas",onChange:Q},r.a.createElement("option",{value:""},"Semua Kelas"),x.kelas.length>0&&x.kelas.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"mapel",name:"mapel","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Mata Pelajaran",onChange:Q},r.a.createElement("option",{value:""},"Semua Mata Pelajaran"),x.mapel.length>0&&x.mapel.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"bab",name:"bab","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Module",onChange:Q},r.a.createElement("option",{value:""},"Semua Module"),x.bab.length>0&&x.bab.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))),r.a.createElement("select",{id:"subbab",name:"subbab","data-style":"btn-green-pastel",className:"selectpicker mr-2",placeholder:"Sub-Module",onChange:Q},r.a.createElement("option",{value:""},"Semua Sub-Module"),x.subbab.length>0&&x.subbab.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}))))))),U?r.a.createElement("div",{className:"row",style:{height:"70vh",width:"100%"}},r.a.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center",style:{flexDirection:"column"}},r.a.createElement(u.a,{visible:!0,height:"100",width:"100",color:"#024102",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""}),r.a.createElement("h2",{className:"mt-2"},"Mohon tunggu..."))):a&&a.map((function(e,a){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{style:{display:"flex",alignItems:"center"},className:"mb-3"},r.a.createElement("h2",{className:"text-primary"},r.a.createElement("b",null,F)),r.a.createElement("div",{className:"dashboard-final-score",style:{marginLeft:"auto"}},e.datasets[0].data.length<15&&e.datasets[0].data.map((function(a,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.labels[t]," : ",r.a.createElement("b",null,a)),r.a.createElement("span",{style:q}))})))),r.a.createElement("div",{style:{overflowX:scroll,width:"100%"}},r.a.createElement(s.a,{options:h,data:e}))))))})))}a.default=v,document.getElementById("dashboard-superadmin")&&o.a.render(r.a.createElement(v,null),document.getElementById("dashboard-superadmin"))}}]);